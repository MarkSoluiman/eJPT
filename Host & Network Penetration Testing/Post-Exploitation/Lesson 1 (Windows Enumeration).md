
---
## Enumerating System Information

The info that we are looking for within a target system:
- Host name
- OS Name (Windows 7, 8,etc)
- OS Build and Service Pack (Windows 7 SP1 7600).
- OS Architecture (x64,x86)
- Installed Updates and Hotfixes.

**After getting a reverse shell session on a Windows system, we can get comprehensive info about the system by: `systeminfo`**

**We can also see comprehensive view about what hotfixes have been applied to the system and when they were installed:  `wmic qfe get Caption,Description,HotFixID,InstalledOn`**

**There might be a file called eula.txt that would contain more info that we can enumerate about the Windows target machine**. This file can be found under: "C:\Windows\System32" directory. 


---

## Enumerating Users & Groups

We are looking for:
- Current user and privileges
- Additional user information
- Other users on the system.
- Groups
- Members of the built-in administrator gorup

We can use this MSF module to enumerate current logged in users by providing a meterpreter session: "windows/gather/enum_logged_on_users"

**We can use: `query user` on Windows shell to show current logged in users. To show other users registered on the target machine: `net users`**

---

## Enumerating Network Information

We are looking for:
- Internal networks
- TCP/UDP services running and their respective ports
- Other hosts on the network
- Routing table
- Windows Firewall state

We can get comprehensive info about the network layout that the target machine is connected to by: `ipconfig /all` 

We can see what other systems are running on the target system by: `arp -a`

To see the services running on the target machine and their corresponding ports: `netstat -ano`

To show the firewall status: `netsh advfirewall firewall`

**To see if the firewall is disabled or not: `netsh advfirewall show allprofiles`. If we got an error, that means firewall is disabled.**


---

## Enumerating Processes and Services


We are looking for:
- Running processes and services
- Scheduled tasks.

**We can have a list of started services by: `net start`**

**We also can use this command: `wmic service list brief`**

**To see running processes and their associated services: `tasklist /SVC`**

**To list scheduled tasks: `schtasks /query /fo LIST /v`**. It is recommended to copy the output of that command to a text file for future priv-escalation.


---

## Automating Windows Local Enumeration

We will be using JAWS (Just Another Windows Script) which is a PowerShell script quickly identifies potential privilege escalation vectors on Windows systems. 

GitHub Repo: https://github.com/411Hall/JAWS

**To list installed applications on the target system, we can use this MSF module:"post/windows/gather/enum_applications"**

To list computers included in the primary Active Directory domain, we can use this MSF module: "windows/gather/enum_computers"

To list the patches installed on the target machine, we can use this MSF module: "windows/gather/enum_patches"

We can list the shares using this MSF module: "windows/gather/enum_shares"

powershell.exe -ExecutionPolicy Bypass -File .\Jaws.ps1 -OutputFilename JAWS-Enum.txt

### Using JAWS

We copy the code that is in GitHub Repository to our local machine under a file called "jaws-enum.ps1"

Since we have a meterpreter session, we can upload the JAWS file that we created using meterpreter command "upload".

In a shell session, we do:  `powershell.exe -ExecutionPolicy Bypass -File .\jaws-enum.ps1 -OutputFilename JAWS-Enum.txt`





